{% extends "base.html" %}

{% block title %}
Reset Password - HomeBite
{% endblock %}

{% block content %}
<div class="container mt-5" style="max-width: 450px; background-color: #111; padding: 25px; border-radius: 8px; border: 1px solid #333;">

    <h2 class="text-center mb-3">Set New Password</h2>

    {% if validlink %}
    <form method="post">
        {% csrf_token %}

        {% for field in form %}
        <div class="mb-3">
            <label for="{{ field.id_for_label }}" class="form-label text-white">{{ field.label }}</label>
            <div>
                {{ field }}
            </div>
            {% if field.errors %}
            <div class="text-danger mt-1">{{ field.errors }}</div>
            {% endif %}
        </div>
        {% endfor %}

        <button type="submit" class="btn btn-primary w-100 mt-2">Change Password</button>
    </form>

    {% else %}
    <p class="text-center" style="color: #ccc;">
        The password reset link is no longer valid.<br>
        Please request a new one.
    </p>
    <div class="text-center mt-3">
        <a href="{% url 'password_reset' %}">Request again</a>
    </div>
    {% endif %}

</div>

{# Inline style to make all input boxes full width #}
<style>
    input, select, textarea {
        width: 100%;
        padding: 0.375rem 0.75rem;  /* matches Bootstrap form-control padding */
        border-radius: 0.375rem;
        border: 1px solid #ced4da;
        background-color: #222;      /* dark background for input */
        color: white;
    }
    input:focus, textarea:focus {
        outline: none;
        border-color: #0d6efd;
        box-shadow: 0 0 0 0.2rem rgba(13,110,253,.25);
    }
</style>

{% endblock %}
