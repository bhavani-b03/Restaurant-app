<script>
document.addEventListener("DOMContentLoaded", function() {
    const filterBtn = document.getElementById("filterBtn");
    const filterDropdown = document.getElementById("filterDropdown");
    const priceBtn = document.getElementById("priceBtn");
    const priceDropdown = document.getElementById("priceDropdown");
    const applyPriceBtn = document.getElementById("applyPriceBtn");
    const minPriceInput = document.getElementById("startPrice");
    const maxPriceInput = document.getElementById("endPrice");
    const grid = document.querySelector(".grid");
    const dietBtn = document.getElementById("dietBtn");
    const dietDropdown = document.getElementById("dietDropdown");
    const cuisineBtn = document.getElementById("cuisineBtn");
    const cuisineDropdown = document.getElementById("cuisineDropdown");

    if (!filterBtn || !priceDropdown || !applyPriceBtn || !grid || !dietBtn || !dietDropdown || !cuisineBtn || !cuisineDropdown) return; // safety check

    // Toggle popup
    filterBtn.addEventListener("click", () => {
        filterDropdown.classList.toggle("hidden");
    });

    priceBtn.addEventListener("click", () => {
        priceDropdown.classList.toggle("hidden");
    });

    dietBtn.addEventListener("click", (e) => {
        e.preventDefault();
        dietDropdown.classList.toggle("hidden");
    });

    cuisineBtn.addEventListener("click", (e) => {
        e.stopPropagation();
        cuisineDropdown.classList.toggle("hidden");
    });

    document.addEventListener("click", (e) => {
        if (!cuisineDropdown.contains(e.target) && !cuisineBtn.contains(e.target)) {
            cuisineDropdown.classList.add("hidden");
        }
    });
});
</script>
